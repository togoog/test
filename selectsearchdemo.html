<!-- demo.html  select2用法说明 -->
<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<link rel="stylesheet" href="select2.min.css">
		<!--<script src="js/common/jquery-1.12.4.js"></script>-->
		<script src="js/common/jquery-1.8.3.js"></script>
		<!--<script src="select2.full.min.js"></script>-->
		<script src="select2.full.js"></script>
		<script src="zh-CN.js"></script>
		<title>select2用法说明</title>
		<style>
			h1,
			h2,
			h3 {
				text-align: center;
			}
			
			.select1 {
				margin: 60px auto 0;
				width: 200px;
			}
			
			.select1>span {
				/*width: 100% !important;*/
				width: 300px !important;
			}
			
			.selectdiv {
				margin: 60px auto 0;
				width: 200px;
			}
			
			.selectdiv>span {
				width: 100% !important;
				/*width: 300px !important;*/
			}
			
			.select2-container .select2-selection--single {
				*width: 300px ! important;
				;
			}
			
			.select2-search--dropdown .select2-search__field {
				/*ie 7 width -18px*/
				*width: 282px;
			}
			
			.table{
			width: 100%;
			border:1px;
		}
		
		.js-example-placeholder-single{
			width: 100px;
		}
		</style>
	</head>

	<body>
		<h1>select2用法说明</h1>
		<h2>具体用法看代码（包括在angular中的用法）</h2>
		<h3>更多功能用法请百度搜索“select2”去官网查看</h3>

		<!--<div class="select1">
			<select class="mySelect" inputMessage="请输入会员编号(可部分匹配)">
				<option>西瓜</option>
				<option>苹果</option>
				<option>香蕉</option>
				<option>菠萝</option>
				<option>桃子</option>
				<option>a</option>
				<option>b</option>
				<option>c</option>
				<option>123 你好</option>
				<option>asd</option>
				<option>bbb</option>
				<option>aaa</option>
				<option>ccc</option>
				<option>广州市天河区黄埔大道西广电平云广场</option>
			</select>
		</div>
		<div class="select1">
			<select class="mySelect" inputMessage="请输入会员编号(可部分匹配)">
				<option>西瓜</option>
				<option>苹果</option>
				<option>香蕉</option>
				<option>菠萝</option>
				<option>桃子</option>
				<option>a</option>
				<option>b</option>
				<option>c</option>
				<option>123 你好</option>
				<option>asd</option>
				<option>bbb</option>
				<option>aaa</option>
				<option>ccc</option>
				<option>广州市天河区黄埔大道西广电平云广场</option>
			</select>
		</div>-->
		<table class="table">
			<tr>
				<th>select</th>
			</tr>
			<tbody id="tb">
			</tbody>
		</table>
		<div class="selectdiv">
			<select class="searchpage">
				<option></option>
				<option>西瓜</option>
				<option>苹果</option>
				<option>香蕉</option>
				<option>菠萝</option>
				<option>桃子</option>
				<option>a</option>
				<option>b</option>
				<option>c</option>
				<option>123 你好</option>
				<option>asd</option>
				<option>bbb</option>
				<option>aaa</option>
				<option>ccc</option>
				<option>广州市天河区黄埔大道西广电平云广场</option>
			</select>
		</div>
		<select class="js-example-placeholder-single js-states form-control">
  			<option></option>
  			<option>adfs</option>
		</select>

		<div class="selectdiv">
			<select class="ss">
			</select>
		</div>
		<script>
			$(function() {
				var html = '<tr><td><div class="select1">'
			+'<select class="mySelect" inputMessage="请输入会员编号(可部分匹配)">'
			+'	<option>西瓜</option>'
			+'	<option>苹果</option>'
			+'	<option>香蕉</option>'
			+'	<option selected="selected">菠萝</option>'
			+'	<option>桃子</option>'
			+'	<option>a</option>'
			+'	<option>b</option>'
			+'	<option>c</option>'
			+'	<option>123 你好</option>'
			+'	<option>asd</option>'
			+'	<option>bbb</option>'
			+'	<option>aaa</option>'
			+'	<option>ccc</option>'
			+'	<option>广州市天河区黄埔大道西广电平云广场</option>'
			+'</select>'
		+'</div></td></tr><tr><td>'
		+'<div class="select1">'
			+'<select class="mySelect" inputMessage="请输入会员编号(可部分匹配)">'
			+'	<option>西瓜</option>'
			+'	<option>苹果</option>'
			+'	<option>香蕉</option>'
			+'	<option>菠萝</option>'
			+'	<option>桃子</option>'
			+'	<option>a</option>'
			+'	<option>b</option>'
			+'	<option>c</option>'
			+'	<option>123 你好</option>'
			+'	<option>asd</option>'
			+'	<option>bbb</option>'
			+'	<option>aaa</option>'
			+'	<option>ccc</option>'
			+'	<option>广州市天河区黄埔大道西广电平云广场</option>'
			+'</select>'
		+'</div>';
				
				$("#tb").append(html);
				//$('.mySelect').select2();
				$('.mySelect').each(function(){
					var target = $(this);
					target.select2();
				})
				$(".js-example-placeholder-single").select2({
    placeholder: "Select a state",
    allowClear: true
});
				//$('.searchpage').select2();
				//$('.searchpage').val("bbb").trigger("change");
				var sel = $('.searchpage').select2({placeholder:"请选择",templateSelection: function (data) {
    if (data.id === '') { // adjust for custom placeholder values
      return 'Custom styled placeholder text';
    }

    return data.text;
  }});
				
				//sel.val("aaa").trigger("change");
				//placeholder             输入框站位符
				//allowClear: true,       指定有占位符时允许清除
				$(".ss").select2({
    				placeholder: "please select demo",
    				//allowClear: true,
                	data: [{id: 10001, text: 'demoa'},
                        {id: 10002, text: 'demob'},
                        {id: 10003, text: 'democ'}]
        		}).on("change",function(){
			        //值发生改变时触发，这里写需要调用的fuction
			        //常用事件有，select2-open  select2打开时触发
			        //select2-close   关闭时触发
			        //select2-selecting  选中时触发
			    });
//				var path = "http://127.0.0.1:8080/mobileMS/MBCustomerController/getCustomers.do"
//				$('.searchpage').select2({
//					language: "zh-CN", // 指定语言为中文，国际化才起效
//					inputMessage: $('.searchpage').attr("inputMessage"), // 添加默认参数
//					ajax: {
////						url: $this.attr("href"),
//						url: path,
//						method:'post',
//						dataType: 'json',
//						delay: 250, // 延迟显示
//						data: function(params) {
//							return {
//								name: params.term, // 搜索框内输入的内容，传递到Java后端的parameter为username
//								pageSize: params.page, // 第几页，分页哦
//								rows: 10 // 每页显示多少行
//							};
//						},
//						// 分页
//						processResults: function(data, params) {
//							params.page = params.page || 1;
//							return {
//								results: data.data, // 后台返回的数据集
//								pagination: {
//									more: params.page < data.total // 总页数为10，那么1-9页的时候都可以下拉刷新
//								}
//							};
//						},
//						cache: false
//					},
//					escapeMarkup: function(markup) {
//						return markup;
//					}, // let our custom formatter work
//					minimumInputLength: 1, // 最少输入一个字符才开始检索
//					templateResult: function(repo) { // 显示的结果集格式，这里需要自己写css样式，可参照demo
//						// 正在检索
//						if(repo.loading){
//							return repo.text;
//						}
//						var markup = repo.username;
//						markup += repo.realname;
//						var markup = "<div class='select2-result-repository clearfix'>" + "<div class='select2-result-repository__avatar'><img src='" +
//							repo.headimgUrl + "' /></div>" + "<div class='select2-result-repository__meta'>" +
//							"<div class='select2-result-repository__title'>" + repo.username + "</div>";
//						if(repo.realname) {
//							markup += "<div class='select2-result-repository__description'>" + repo.realname + "</div>";
//						}
//						markup += "<div class='select2-result-repository__statistics'>" +
//							"<div class='select2-result-repository__forks'><i class='fa fa-user'></i> 下级会员数" + repo.children_count + " </div>" +
//							"</div>" + "</div></div>";
//						return markup;
//					},
//					templateSelection: function(repo) {
//						return repo.realname || repo.text;
//					} // 列表中选择某一项后显示到文本框的内容
//				});
			});

			(function($) {
				$.fn.makeItBlue = function() {
					this.css('background-color', 'blue');
				};
			})(jQuery);

			// USE PLUGIN
			$(document).ready(function() {
				$('h2').makeItBlue();
			});
		</script>
		<!-- 说明：
            1.select2依赖于jquery，要引入select2.min.css、select2.full.min.js
            2.如果要多语言，请去官网下载多语言js；此select2.full.min.js文件，我把搜索无结果时改成了中文。
    
    用法：
            1.以上用法是一般用法
            2.下面介绍用于angular ng-repeat渲染出的dom的用法

                a.  html代码是：
                    <div class="tt_select2">
                        <select class="js-example-basic-single">
                            <option time-out ng-repeat="x in data" value="{{x.className}}" ng-bind="x.className"></option>
                        </select>
                    </div>
                b.  要在n-repeat渲染结束后再执行  $('.mySelect').select2()，所以调用指令，延迟执行;
                c.  自定义指令代码：
                    app.directive('timeOut',function($timeout){
                        return { 
                            link: function(scope,element,attr){ 
                                $timeout(function(){ 
                                    $('.js-example-basic-single').select2();
                                },0) 
                            } 
                        } 
                    });
-->
	</body>

</html>