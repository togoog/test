<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="css/themes/default/jquery.mobile-1.4.3.min.css" />
		<script src="js/common/jquery-1.9.1.min.js"></script>
		<script>
			$(document).ready(function() {
				$("li a").on("click", function(e) {
					// retrieve id
					var item_id = $(this).attr("id");
					// update links in popup with id retrieved
					// exclude cancel button [data-rel=back]
					$("#thepopup li a:not(:jqmData(rel=back))").each(function() {
						var current = $(this).attr("href").split("=");
						var href = current[0] + "=" + item_id;
						$(this).attr("href", href);
					});
					// open popup with desired transition
					$("#thepopup").popup("open", {
						"transition": "pop"
					});
				});
			});
		</script>
		<script src="js/common/jquery.mobile-1.4.3.js"></script>
	</head>

	<body>
		<div data-role="page">
			<div data-role="header">
				<h1>My page</h1>
			</div>
			<div data-role="content">
				<ul data-role="listview">
					<li><a href="#thepopup" id="5" data-rel="popup" data-position-to="window" data-transition="pop"><h2>Item 1</h2></a>

					</li>
					<li><a href="#purchase" id="6" data-rel="popup" data-position-to="window" data-transition="pop"><h2>Item 2</h2></a>
						<p>Item 2 description</p>
						</a>

					</li>
				</ul>
				<div data-role="popup" id="thepopup">
					<ul data-role="listview">
						<li><a href="#">View details</a>
						</li>
						HERE THE "5" SHOULD BE THE ID OF THE ITEM CLICKED ABOVE
						<li><a href="#">Edit</a>
						</li>
						<li><a data-rel="back" href="#">Cancel</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</body>

</html>