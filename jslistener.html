<!DOCTYPE >
<html>

	<head>
		<meta charset="utf-8" />
		<title>test</title>

		<script language="javaScript">
			<!--关闭浏览器 -->
			                
//			var flag = true;                
//			window.onbeforeunload = function() {                    
//				if(flag) {                       
//					var evt = window.event || arguments[0];                       
//					var userAgent = navigator.userAgent;                       
//					if(userAgent.indexOf("MSIE") > 0) {                           
//						var n = window.event.screenX - window.screenLeft;                           
//						var b = n > document.documentElement.scrollWidth - 20;                           
//						if(b && window.event.clientY < 0 || window.event.altKey) {                               
//							window.event.returnValue = ("该操作将会导致非正常退出系统(正确退出系统方式：点击退出系统按钮)，您是否确认?");                           
//						} else {                               
//							return("该操作将会导致非正常退出系统(正确退出系统方式：点击退出系统按钮)，您是否确认?");                           
//						}                       
//					} else if(userAgent.indexOf("Firefox") > 0) {                              
//						return("该操作将会导致非正常退出系统(正确退出系统方式：点击退出系统按钮)，您是否确认?");                       
//					}                    
//				}                
//			}
			var userAgent = navigator.userAgent; //取得浏览器的userAgent字符串  
			var isOpera = userAgent.indexOf("Opera") > -1; //判断是否Opera浏览器  
			var isIE = userAgent.indexOf("compatible") > -1 && userAgent.indexOf("MSIE") > -1 && !isOpera; //判断是否IE浏览器
			var isIE11 = userAgent.indexOf("rv:11.0") > -1; //判断是否是IE11浏览器
			var isEdge = userAgent.indexOf("Edge") > -1 && !isIE; //判断是否IE的Edge浏览器
			if(!isIE && !isEdge && !isIE11) { //兼容chrome和firefox
				var _beforeUnload_time = 0,
					_gap_time = 0;
				var is_fireFox = navigator.userAgent.indexOf("Firefox") > -1; //是否是火狐浏览器
				window.onunload = function() {
					_gap_time = new Date().getTime() - _beforeUnload_time;
					if(_gap_time <= 5) {
						alert("close") //浏览器关闭
					} else { //浏览器刷新
						alert("refresh")
					}
				}
				window.onbeforeunload = function() {
					_beforeUnload_time = new Date().getTime();
					if(is_fireFox) { //火狐关闭执行
						alert("close") //浏览器关闭
					}
				};
			}
		</script>
	</head>

	<body>
		dengyang

		<body>

</html>